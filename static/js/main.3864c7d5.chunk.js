(this["webpackJsonpecoled-collage"]=this["webpackJsonpecoled-collage"]||[]).push([[0],{29:function(e,n,t){e.exports=t.p+"static/media/lamp.2b660318.png"},30:function(e,n,t){e.exports=t(86)},35:function(e,n,t){},86:function(e,n,t){"use strict";t.r(n);var a=t(4),r=t.n(a),o=t(27),i=t.n(o),c=(t(35),t(16)),l=t(9),s=t(28),d=t.n(s),u=t(7),g=t(29),h=t.n(g),f=function(e){var n=e.shapeProps,t=e.isSelected,a=e.onSelect,o=e.onChange,i=d()(h.a),s=Object(l.a)(i,1)[0];s&&(s.crossOrigin="Anonymous");var g=r.a.useRef(),f=r.a.useRef();return r.a.useEffect((function(){t&&(f.current.setNode(g.current),f.current.getLayer().batchDraw())}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(u.Image,Object.assign({crossOrigin:!0,fill:"",image:s,onTap:a,onClick:a,ref:g},n,{draggable:!0,onDragEnd:function(e){o(Object(c.a)({},n,{x:e.target.x(),y:e.target.y()}))},onTransformEnd:function(e){var t=g.current,a=t.scaleX(),r=t.scaleY();t.scaleX(1),t.scaleY(1),o(Object(c.a)({},n,{x:t.x(),y:t.y(),width:Math.max(5,t.width()*a),height:Math.max(t.height()*r)}))}})),t&&r.a.createElement(u.Transformer,{ref:f,boundBoxFunc:function(e,n){return n.width<5||n.height<5?e:n}}))},m=function(){var e=r.a.useRef(null),n=r.a.createRef(),t=r.a.useRef(),a=r.a.useRef(),o=new Image,i=r.a.useState(null),c=Object(l.a)(i,2),s=c[0],d=c[1],g=r.a.useState(!1),h=Object(l.a)(g,2),m=h[0],p=h[1],b=r.a.useState({x:10,y:10,width:200,height:320}),w=Object(l.a)(b,2),y=w[0],v=w[1];return r.a.createElement("div",null,r.a.createElement(u.Stage,{ref:n,width:window.innerWidth,height:window.innerHeight},r.a.createElement(u.Layer,{ref:a,onClick:function(){p(!1)},onTap:function(){p(!1)}},r.a.createElement(u.Image,{image:s})),r.a.createElement(u.Layer,{ref:t},r.a.createElement(f,{shapeProps:y,isSelected:m,onSelect:function(){p(!0)},onChange:v}))),r.a.createElement("label",{for:"files",class:"btn",style:{border:"1px solid",display:"inline block",padding:"6px 12px",cursor:"pointer"}},"Bild hochladen",r.a.createElement("input",{id:"files",visibility:"hidden",type:"file",accept:"image/*",style:{display:"none"},onChange:function(e){p(!1);var n=a.current,t=n.getContext("2d");o.onload=function(){o.crossOrigin="Anonymus",d(o),t.drawImage(o,0,0)};var r=Object(l.a)(e.target.files,1)[0];if(r){var i=new FileReader;i.readAsDataURL(r),i.onload=function(e){t.clearRect(0,0,n.canvas.width,n.canvas.height),o.src=e.target.result}}},ref:e})),r.a.createElement("label",{class:"btn",style:{border:"1px solid",display:"inline block",padding:"6px 12px",cursor:"pointer"},onClick:function(){!function(e,n){var t=document.createElement("a");t.download=n,t.href=e,document.body.appendChild(t),t.click(),document.body.removeChild(t)}(n.current.toDataURL({mimeType:"image/png"}),"stage.png")}},"Bild speichern"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(m,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.3864c7d5.chunk.js.map